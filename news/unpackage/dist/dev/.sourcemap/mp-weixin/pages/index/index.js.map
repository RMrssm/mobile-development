{"version":3,"file":"index.js","sources":["pages/index/index.vue","../../../program/HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\n\t<!-- 1. 绑定根 class，应用主题和字体 -->\n\t<view class=\"container\" :class=\"[appTheme, appFontSize]\">\n\t\t\n\t\t<!-- 2. \"高级感\" 品牌头部 -->\n\t\t<view class=\"brand-header\">\n\t\t\t<text class=\"brand-text\">金建楠 · 学习要闻</text>\n\t\t\t<text class=\"brand-subtitle\">每日精选 · 深度学习</text>\n\t\t</view>\n\n\t\t<view v-if=\"loading\" class=\"loading-state\">\n\t\t\t<!-- 模拟加载图标 -->\n\t\t\t<image src=\"/static/loading.gif\" class=\"loading-icon\"></image>\n\t\t\t<text class=\"loading-text\">正在获取今日要闻...</text>\n\t\t</view>\n\t\t\n\t\t<view v-else-if=\"newsList.length > 0\">\n\t\t\t<!-- 遍历新闻列表 -->\n\t\t\t<view v-for=\"item in newsList\" :key=\"item.id\" class=\"news-card\" @click=\"goToDetail(item)\">\n\t\t\t\t<view class=\"news-content\">\n\t\t\t\t\t<view class=\"news-title\">{{ item.title }}</view>\n\t\t\t\t\t<view class=\"news-summary\">{{ item.summary }}</view>\n\t\t\t\t\t<view class=\"news-footer\">\n\t\t\t\t\t\t<text class=\"source\">{{ item.source }}</text>\n\t\t\t\t\t\t<text class=\"date\">{{ item.date }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view v-else class=\"empty-state\">\n\t\t\t<text class=\"empty-text\">未能加载新闻，请稍后重试。</text>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nimport { getNewsList } from '../../common/newsService.js';\n// 3. 引入 Mixin\nimport { settingsMixin } from '../../common/settingsMixin.js';\n\nexport default {\n\t// 4. 注册 Mixin\n\tmixins: [settingsMixin],\n\tdata() {\n\t\treturn {\n\t\t\tnewsList: [],\n\t\t\tloading: true\n\t\t};\n\t},\n\tonLoad() {\n\t\tthis.fetchNewsData();\n\t},\n\tmethods: {\n\t\tasync fetchNewsData() {\n\t\t\tthis.loading = true;\n\t\t\ttry {\n\t\t\t\tthis.newsList = await getNewsList();\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"获取新闻列表失败\", error);\n\t\t\t} finally {\n\t\t\t\tthis.loading = false;\n\t\t\t}\n\t\t},\n\t\tgoToDetail(newsItem) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/newsDetail/newsDetail?id=${newsItem.id}&title=${newsItem.title}`\n\t\t\t});\n\t\t}\n\t}\n};\n</script>\n\n<style>\n/* 5. 使用 CSS 变量 */\n.container {\n\tbackground-color: var(--bg-color);\n\tmin-height: 100vh;\n\tpadding: 0 30rpx; /* 增加左右边距 */\n}\n\n/* \"高级感\" 品牌头部 */\n.brand-header {\n\tpadding: 40rpx 0 30rpx;\n}\n.brand-text {\n\tfont-size: 48rpx;\n\tcolor: var(--text-color-primary);\n\tfont-weight: 700;\n\tdisplay: block;\n}\n.brand-subtitle {\n\tfont-size: 28rpx;\n\tcolor: var(--text-color-secondary);\n\tfont-weight: 300;\n\tmargin-top: 5rpx;\n}\n\n/* 列表卡片样式 */\n.news-card {\n\tbackground-color: var(--card-bg-color);\n\tpadding: 30rpx;\n\tmargin-bottom: 25rpx;\n\tborder-radius: 16rpx;\n\tbox-shadow: 0 4rpx 15rpx var(--shadow-color);\n\ttransition: transform 0.2s ease, box-shadow 0.2s ease;\n}\n.news-card:active {\n\ttransform: translateY(2rpx);\n\tbox-shadow: 0 2rpx 8rpx var(--shadow-color);\n}\n.news-title {\n\tfont-size: var(--font-size-title); /* 使用变量 */\n\tcolor: var(--text-color-primary);\n\tline-height: 1.5;\n\tmargin-bottom: 10rpx;\n\tfont-weight: 600;\n}\n.news-summary {\n\tfont-size: var(--font-size-base); /* 使用变量 */\n\tcolor: var(--text-color-secondary);\n\tfont-weight: 300; /* 更纤细的摘要 */\n\tline-height: var(--line-height-base);\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tdisplay: -webkit-box;\n\t-webkit-line-clamp: 2;\n\t-webkit-box-orient: vertical;\n\tmargin-bottom: 20rpx;\n}\n.news-footer {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tfont-size: 26rpx;\n\tcolor: var(--text-color-placeholder);\n\tpadding-top: 15rpx;\n\tborder-top: 1rpx solid var(--border-color);\n}\n\n/* 加载和空状态样式 */\n.loading-state, .empty-state {\n\ttext-align: center;\n\tpadding: 150rpx 0;\n\tcolor: var(--text-color-secondary);\n\tfont-size: 28rpx;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n}\n.loading-icon {\n\twidth: 60rpx;\n\theight: 60rpx;\n\tmargin-bottom: 20rpx;\n}\n.loading-text {\n\tcolor: var(--text-color-secondary);\n}\n</style>","import MiniProgramPage from 'E:/project/HBuiderX/news/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["settingsMixin","getNewsList","uni"],"mappings":";;;;;AAyCA,MAAK,YAAU;AAAA;AAAA,EAEd,QAAQ,CAACA,qBAAAA,aAAa;AAAA,EACtB,OAAO;AACN,WAAO;AAAA,MACN,UAAU,CAAE;AAAA,MACZ,SAAS;AAAA;EAEV;AAAA,EACD,SAAS;AACR,SAAK,cAAa;AAAA,EAClB;AAAA,EACD,SAAS;AAAA,IACR,MAAM,gBAAgB;AACrB,WAAK,UAAU;AACf,UAAI;AACH,aAAK,WAAW,MAAMC,mBAAAA;MACrB,SAAO,OAAO;AACfC,sBAAA,MAAA,MAAA,SAAA,+BAAc,YAAY,KAAK;AAAA,MAChC,UAAU;AACT,aAAK,UAAU;AAAA,MAChB;AAAA,IACA;AAAA,IACD,WAAW,UAAU;AACpBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,mCAAmC,SAAS,EAAE,UAAU,SAAS,KAAK;AAAA,MAC5E,CAAC;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;ACrEA,GAAG,WAAW,eAAe;"}