{"version":3,"file":"history.js","sources":["pages/history/history.vue","../../../program/HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaGlzdG9yeS9oaXN0b3J5LnZ1ZQ"],"sourcesContent":["<template>\n\t<!-- 1. 绑定根 class，应用主题和字体 -->\n\t<view class=\"container\" :class=\"[appTheme, appFontSize]\">\n\t\t<view v-if=\"list.length === 0\" class=\"empty-state\">\n\t\t\t<text class=\"empty-text\">您还没有阅读历史</text>\n\t\t\t<button class=\"go-home-btn\" @click=\"goHome\">去逛逛</button>\n\t\t</view>\n\t\t\n\t\t<view v-else class=\"list-container\">\n\t\t\t<!-- 遍历历史列表 -->\n\t\t\t<view v-for=\"item in list\" :key=\"item.id\" class=\"news-card\" @click=\"goToDetail(item)\">\n\t\t\t\t<view class=\"news-content\">\n\t\t\t\t\t<view class=\"news-title\">{{ item.title }}</view>\n\t\t\t\t\t<view class=\"news-footer\">\n\t\t\t\t\t\t<text class=\"source\">{{ item.source }}</text>\n\t\t\t\t\t\t<text class=\"date\">{{ item.date }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n// 2. 引入 Mixin\nimport { settingsMixin } from '../../common/settingsMixin.js';\n\nexport default {\n\t// 3. 注册 Mixin\n\tmixins: [settingsMixin],\n\tdata() {\n\t\treturn {\n\t\t\tlist: []\n\t\t};\n\t},\n\tonShow() {\n\t\tthis.loadHistory();\n\t},\n\tmethods: {\n\t\tloadHistory() {\n\t\t\tconst history = uni.getStorageSync('history') || [];\n\t\t\tthis.list = history;\n\t\t},\n\t\tgoToDetail(newsItem) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/newsDetail/newsDetail?id=${newsItem.id}&title=${newsItem.title}`\n\t\t\t});\n\t\t},\n\t\tgoHome() {\n\t\t\tuni.switchTab({\n\t\t\t\turl: '/pages/index/index'\n\t\t\t});\n\t\t}\n\t}\n};\n</script>\n\n<style>\n/* 4. 使用 CSS 变量 (样式与 collections.vue 一致) */\n.container {\n\tbackground-color: var(--bg-color);\n\tmin-height: 100vh;\n\tpadding: 20rpx 30rpx;\n}\n.news-card {\n\tbackground-color: var(--card-bg-color);\n\tpadding: 30rpx;\n\tmargin-bottom: 25rpx;\n\tborder-radius: 16rpx;\n\tbox-shadow: 0 4rpx 15rpx var(--shadow-color);\n}\n.news-title {\n\tfont-size: var(--font-size-title);\n\tcolor: var(--text-color-primary);\n\tline-height: 1.5;\n\tmargin-bottom: 15rpx;\n\tfont-weight: 600;\n}\n.news-footer {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tfont-size: 26rpx;\n\tcolor: var(--text-color-placeholder);\n\tpadding-top: 15rpx;\n\tborder-top: 1rpx solid var(--border-color);\n}\n.empty-state {\n\ttext-align: center;\n\tpadding-top: 200rpx;\n\tcolor: var(--text-color-secondary);\n\tfont-size: var(--font-size-base);\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n}\n.empty-text {\n\tmargin-bottom: 40rpx;\n}\n.go-home-btn {\n\tbackground-color: var(--brand-color);\n\tcolor: #fff;\n\tfont-size: 30rpx;\n\tpadding: 0 80rpx;\n\tborder-radius: 50rpx;\n\tline-height: 2.8;\n}\n</style>","import MiniProgramPage from 'E:/project/HBuiderX/news/pages/history/history.vue'\nwx.createPage(MiniProgramPage)"],"names":["settingsMixin","uni"],"mappings":";;;AA2BA,MAAK,YAAU;AAAA;AAAA,EAEd,QAAQ,CAACA,qBAAAA,aAAa;AAAA,EACtB,OAAO;AACN,WAAO;AAAA,MACN,MAAM,CAAC;AAAA;EAER;AAAA,EACD,SAAS;AACR,SAAK,YAAW;AAAA,EAChB;AAAA,EACD,SAAS;AAAA,IACR,cAAc;AACb,YAAM,UAAUC,cAAG,MAAC,eAAe,SAAS,KAAK,CAAA;AACjD,WAAK,OAAO;AAAA,IACZ;AAAA,IACD,WAAW,UAAU;AACpBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,mCAAmC,SAAS,EAAE,UAAU,SAAS,KAAK;AAAA,MAC5E,CAAC;AAAA,IACD;AAAA,IACD,SAAS;AACRA,oBAAAA,MAAI,UAAU;AAAA,QACb,KAAK;AAAA,MACN,CAAC;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;ACrDA,GAAG,WAAW,eAAe;"}