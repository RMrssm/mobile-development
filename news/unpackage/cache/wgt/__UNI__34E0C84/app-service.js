if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((n=>t.resolve(e()).then((()=>n))),(n=>t.resolve(e()).then((()=>{throw n}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";function t(e,t,...n){uni.__log__?uni.__log__(e,t,...n):console[e].apply(console,[...n,t])}const n=[{id:301,title:"《习近平关于加强党的作风建设论述摘编》民族文字版出版发行",summary:"中共中央党史和文献研究院编辑的《习近平关于加强党的作风建设论述摘编》5种民族文字版出版发行。",source:"新华社",date:"2025-11-19",content:"新华社北京11月19日电 中共中央党史和文献研究院编辑的《习近平关于加强党的作风建设论述摘编》蒙古文、藏文、维吾尔文、哈萨克文、朝鲜文等5种民族文字版，已由中国民族语文翻译局翻译、民族出版社出版，即日起在全国发行。"},{id:302,title:"uni-app x 是什么？",summary:"uni-app x，是下一代uni-app，是一个跨平台应用开发引擎。它包括uts语言、uvue渲染引擎等。",source:"DCloud",date:"2025-11-23",content:"uni-app x，是下一代uni-app，是一个跨平台应用开发引擎。\n\nuni-app x 是一个庞大的工程，它包括uts语言、uvue渲染引擎、uni的组件和API、以及扩展机制。\n\nuts是一门类ts的、跨平台的、新语言。uts在Android平台编译为kotlin、在iOS平台编译为swift、在鸿蒙next平台上编译为ArkTS、在Web和小程序平台编译为js。"},{id:201,title:"全国政协常委会举行会议 围绕“构建新安全格局”协商议政",summary:"会议强调，要深刻认识构建新安全格局的重大意义，全面贯彻落实总体国家安全观...",source:"新华网",date:"2025-11-22",content:"新华社北京11月22日电 全国政协常委会第二十次会议22日在京举行，主题为“构建新安全格局”。会议指出，安全是发展的前提，必须坚持底线思维和极限思维，准备经受风高浪急甚至惊涛骇浪的重大考验。\n\n与会者深入讨论了如何在经济、社会、科技等多个领域协同推进安全体系建设，确保国家主权、安全、发展利益得到坚决维护。"},{id:202,title:"中共中央政治局召开会议 审议《关于深化新时代学校思想政治理论课改革创新的若干意见》",summary:"会议指出，办好思想政治理论课，事关培养什么人、怎样培养人、为谁培养人的根本问题...",source:"人民网",date:"2025-11-21",content:"人民网北京11月21日电 中共中央政治局今日召开会议，审议了《关于深化新时代学校思想政治理论课改革创新的若干意见》。\n\n会议强调，思想政治理论课是落实立德树人根本任务的关键课程。要坚持用新时代中国特色社会主义思想铸魂育人，引导学生树立坚定的理想信念。会议要求加强教师队伍建设，创新教学方法，增强思政课的思想性、理论性和亲和力、针对性。"},{id:203,title:"《求是》杂志发表重要文章：推进文化自信自强，铸就社会主义文化新辉煌",summary:"文章强调，文化自信是一个国家、一个民族发展中最基本、最深沉、最持久的力量...",source:"求是网",date:"2025-11-20",content:"《求是》杂志2025年第23期发表重要署名文章。\n\n文章指出，没有高度的文化自信，没有文化的繁荣兴盛，就没有中华民族伟大复兴。必须坚持中国特色社会主义文化发展道路，激发全民族文化创新创造活力，增强实现中华民族伟大复兴的精神力量。"},{id:204,title:"科技部、教育部等印发《关于加强新时代高技能人才队伍建设的意见》",summary:"《意见》旨在培养更多高素质技术技能人才、能工巧匠、大国工匠，为全面建设社会主义现代化国家提供有力人才支撑。",source:"中国政府网",date:"2025-11-19",content:"近日，科技部、教育部、人力资源和社会保障部联合印发《关于加强新时代高技能人才队伍建设的意见》。\n\n《意见》提出，要完善技能人才培养体系，深化产教融合、校企合作，推动职业教育与产业需求精准对接。同时，要提高技能人才的社会地位和待遇，畅通职业发展通道，营造“劳动光荣、技能宝贵、创造伟大”的社会风尚。"}];const s={data:()=>({appTheme:"light",appFontSize:"font-size-medium"}),onShow(){this.loadSettings()},methods:{loadSettings(){const e=uni.getStorageSync("appSettings")||{theme:"light",fontSize:"medium"};this.appTheme=e.theme,this.appFontSize="font-size-"+e.fontSize;const t=document.documentElement;t&&(t.classList.remove("theme-dark"),t.classList.remove("light"),"theme-dark"===this.appTheme?t.classList.add("theme-dark"):t.classList.add("light"))}}},a=(e,t)=>{const n=e.__vccOpts||e;for(const[s,a]of t)n[s]=a;return n};const i=a({mixins:[s],data:()=>({newsList:[],loading:!0}),onLoad(){this.fetchNewsData()},methods:{async fetchNewsData(){this.loading=!0;try{this.newsList=await new Promise((e=>{setTimeout((()=>{const t=n.map((e=>({id:e.id,title:e.title,summary:e.summary,source:e.source,date:e.date})));e(t)}),800)}))}catch(e){t("error","at pages/index/index.vue:60","获取新闻列表失败",e)}finally{this.loading=!1}},goToDetail(e){uni.navigateTo({url:`/pages/newsDetail/newsDetail?id=${e.id}&title=${e.title}`})}}},[["render",function(t,n,s,a,i,o){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["container",[t.appTheme,t.appFontSize]])},[e.createElementVNode("view",{class:"brand-header"},[e.createElementVNode("text",{class:"brand-text"},"金建楠 · 学习要闻"),e.createElementVNode("text",{class:"brand-subtitle"},"每日精选 · 深度学习")]),i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-state"},[e.createElementVNode("image",{src:"/static/loading.gif",class:"loading-icon"}),e.createElementVNode("text",{class:"loading-text"},"正在获取今日要闻...")])):i.newsList.length>0?(e.openBlock(),e.createElementBlock("view",{key:1},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.newsList,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:"news-card",onClick:e=>o.goToDetail(t)},[e.createElementVNode("view",{class:"news-content"},[e.createElementVNode("view",{class:"news-title"},e.toDisplayString(t.title),1),e.createElementVNode("view",{class:"news-summary"},e.toDisplayString(t.summary),1),e.createElementVNode("view",{class:"news-footer"},[e.createElementVNode("text",{class:"source"},e.toDisplayString(t.source),1),e.createElementVNode("text",{class:"date"},e.toDisplayString(t.date),1)])])],8,["onClick"])))),128))])):(e.openBlock(),e.createElementBlock("view",{key:2,class:"empty-state"},[e.createElementVNode("text",{class:"empty-text"},"未能加载新闻，请稍后重试。")]))],2)}]]);const o=a({mixins:[s],data:()=>({news:null,newsId:null,isCollected:!1}),onLoad(e){e.id?(this.newsId=parseInt(e.id),this.loadNewsDetail(),this.checkCollectionStatus()):uni.showToast({title:"新闻ID无效",icon:"error"})},methods:{async loadNewsDetail(){try{this.news=await(e=this.newsId,new Promise((t=>{setTimeout((()=>{const s=parseInt(e),a=n.find((e=>e.id===s));t(a)}),300)}))),this.news?this.addReadingHistory():uni.showToast({title:"未找到该新闻",icon:"none"})}catch(s){t("error","at pages/newsDetail/newsDetail.vue:73","加载详情失败",s)}var e},checkCollectionStatus(){const e=uni.getStorageSync("collections")||[];this.isCollected=e.some((e=>e.id===this.newsId))},toggleCollection(){if(!this.news)return;let e=uni.getStorageSync("collections")||[];if(this.isCollected)e=e.filter((e=>e.id!==this.newsId)),this.isCollected=!1,uni.showToast({title:"已取消收藏",icon:"none"});else{const{id:t,title:n,summary:s,source:a,date:i}=this.news,o={id:t,title:n,summary:s,source:a,date:i};e.some((e=>e.id===this.newsId))||e.unshift(o),this.isCollected=!0,uni.showToast({title:"收藏成功",icon:"success"})}uni.setStorageSync("collections",e)},addReadingHistory(){if(!this.news)return;let e=uni.getStorageSync("history")||[];const{id:t,title:n,summary:s,source:a,date:i}=this.news,o={id:t,title:n,summary:s,source:a,date:i};e=e.filter((e=>e.id!==this.newsId)),e.unshift(o),e.length>50&&(e=e.slice(0,50)),uni.setStorageSync("history",e)}}},[["render",function(t,n,s,a,i,o){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["container",[t.appTheme,t.appFontSize]])},[i.news?(e.openBlock(),e.createElementBlock("view",{key:0,class:"detail-wrapper"},[e.createElementVNode("view",{class:"detail-header"},[e.createElementVNode("text",{class:"detail-title"},e.toDisplayString(i.news.title),1),e.createElementVNode("view",{class:"detail-meta"},[e.createElementVNode("view",{class:"meta-item"},[e.createTextVNode("来源："),e.createElementVNode("text",{class:"highlight"},e.toDisplayString(i.news.source),1)]),e.createElementVNode("view",{class:"meta-item"},[e.createTextVNode("时间："),e.createElementVNode("text",{class:"highlight"},e.toDisplayString(i.news.date),1)])])]),e.createElementVNode("view",{class:"detail-content"},e.toDisplayString(i.news.content),1),e.createElementVNode("view",{class:"collection-area"},[e.createElementVNode("button",{class:e.normalizeClass(["collect-btn",{"is-collected":i.isCollected}]),onClick:n[0]||(n[0]=(...e)=>o.toggleCollection&&o.toggleCollection(...e))},e.toDisplayString(i.isCollected?"✓ 已收藏":"+ 加入收藏"),3)]),e.createElementVNode("view",{class:"brand-footer"},"—— 由 金建楠 App 提供 ——")])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"loading-state"}," 正在加载新闻详情... "))],2)}]]);const l=a({mixins:[s],data:()=>({}),methods:{navigateTo(e){let t="";if("collections"===e)t="/pages/collections/collections";else if("history"===e)t="/pages/history/history";else{if("settings"!==e)return void uni.showToast({title:"功能开发中",icon:"none"});t="/pages/settings/settings"}uni.navigateTo({url:t})}}},[["render",function(t,n,s,a,i,o){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["container",[t.appTheme,t.appFontSize]])},[e.createElementVNode("view",{class:"profile-card-gradient"},[e.createElementVNode("view",{class:"logo-name"},[e.createElementVNode("text",{class:"first-name"},"金"),e.createElementVNode("text",{class:"full-name"},"建楠"),e.createElementVNode("view",{class:"tag"},"App 开发者")]),e.createElementVNode("text",{class:"motto"},"专注时政要闻，提升学习效率。")]),e.createElementVNode("view",{class:"section-title"},"我的学习资料"),e.createElementVNode("view",{class:"menu-list"},[e.createElementVNode("view",{class:"menu-item",onClick:n[0]||(n[0]=e=>o.navigateTo("collections"))},[e.createElementVNode("text",{class:"icon"},""),e.createElementVNode("text",{class:"text"},"我的收藏"),e.createElementVNode("text",{class:"arrow"},">")]),e.createElementVNode("view",{class:"menu-item",onClick:n[1]||(n[1]=e=>o.navigateTo("history"))},[e.createElementVNode("text",{class:"icon"},""),e.createElementVNode("text",{class:"text"},"阅读历史"),e.createElementVNode("text",{class:"arrow"},">")]),e.createElementVNode("view",{class:"menu-item",onClick:n[2]||(n[2]=e=>o.navigateTo("settings"))},[e.createElementVNode("text",{class:"icon"},""),e.createElementVNode("text",{class:"text"},"设置与反馈"),e.createElementVNode("text",{class:"arrow"},">")])])],2)}]]);const c=a({mixins:[s],data:()=>({list:[]}),onShow(){this.loadCollections()},methods:{loadCollections(){const e=uni.getStorageSync("collections")||[];this.list=e},goToDetail(e){uni.navigateTo({url:`/pages/newsDetail/newsDetail?id=${e.id}&title=${e.title}`})},goHome(){uni.switchTab({url:"/pages/index/index"})}}},[["render",function(t,n,s,a,i,o){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["container",[t.appTheme,t.appFontSize]])},[0===i.list.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-state"},[e.createElementVNode("text",{class:"empty-text"},"您还没有收藏任何新闻"),e.createElementVNode("button",{class:"go-home-btn",onClick:n[0]||(n[0]=(...e)=>o.goHome&&o.goHome(...e))},"去逛逛")])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"list-container"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.list,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:"news-card",onClick:e=>o.goToDetail(t)},[e.createElementVNode("view",{class:"news-content"},[e.createElementVNode("view",{class:"news-title"},e.toDisplayString(t.title),1),e.createElementVNode("view",{class:"news-footer"},[e.createElementVNode("text",{class:"source"},e.toDisplayString(t.source),1),e.createElementVNode("text",{class:"date"},e.toDisplayString(t.date),1)])])],8,["onClick"])))),128))]))],2)}]]);const r=a({mixins:[s],data:()=>({list:[]}),onShow(){this.loadHistory()},methods:{loadHistory(){const e=uni.getStorageSync("history")||[];this.list=e},goToDetail(e){uni.navigateTo({url:`/pages/newsDetail/newsDetail?id=${e.id}&title=${e.title}`})},goHome(){uni.switchTab({url:"/pages/index/index"})}}},[["render",function(t,n,s,a,i,o){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["container",[t.appTheme,t.appFontSize]])},[0===i.list.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-state"},[e.createElementVNode("text",{class:"empty-text"},"您还没有阅读历史"),e.createElementVNode("button",{class:"go-home-btn",onClick:n[0]||(n[0]=(...e)=>o.goHome&&o.goHome(...e))},"去逛逛")])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"list-container"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.list,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:"news-card",onClick:e=>o.goToDetail(t)},[e.createElementVNode("view",{class:"news-content"},[e.createElementVNode("view",{class:"news-title"},e.toDisplayString(t.title),1),e.createElementVNode("view",{class:"news-footer"},[e.createElementVNode("text",{class:"source"},e.toDisplayString(t.source),1),e.createElementVNode("text",{class:"date"},e.toDisplayString(t.date),1)])])],8,["onClick"])))),128))]))],2)}]]);const d=a({mixins:[s],data:()=>({theme:"light",fontSize:"medium",cacheSize:"1.2"}),computed:{fontSizeIndex(){return"small"===this.fontSize?0:"large"===this.fontSize?2:1}},onLoad(){const e=uni.getStorageSync("appSettings")||{theme:"light",fontSize:"medium"};this.theme=e.theme,this.fontSize=e.fontSize},methods:{saveSettings(){const e={theme:this.theme,fontSize:this.fontSize};uni.setStorageSync("appSettings",e),this.loadSettings()},onThemeChange(e){this.theme=e.detail.value?"theme-dark":"light",this.saveSettings()},onFontChange(e){this.fontSize=e,this.saveSettings()},onSliderChange(e){const t=e.detail.value;this.fontSize=0===t?"small":1===t?"medium":"large",this.saveSettings()}}},[["render",function(t,n,s,a,i,o){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["container",[t.appTheme,t.appFontSize]])},[e.createElementVNode("view",{class:"setting-group"},[e.createElementVNode("view",{class:"setting-item"},[e.createElementVNode("view",{class:"left"},[e.createElementVNode("text",{class:"title"},"黑夜模式"),e.createElementVNode("text",{class:"desc"},"（22:00 - 06:00 自动开启）")]),e.createElementVNode("view",{class:"right"},[e.createElementVNode("switch",{checked:"theme-dark"===i.theme,onChange:n[0]||(n[0]=(...e)=>o.onThemeChange&&o.onThemeChange(...e)),color:"#3489F6"},null,40,["checked"])])])]),e.createElementVNode("view",{class:"setting-group"},[e.createElementVNode("view",{class:"setting-item"},[e.createElementVNode("view",{class:"left"},[e.createElementVNode("text",{class:"title"},"字体大小")])]),e.createElementVNode("view",{class:"font-size-selector"},[e.createElementVNode("text",{class:e.normalizeClass(["label",{active:"small"===i.fontSize}]),onClick:n[1]||(n[1]=e=>o.onFontChange("small"))},"小",2),e.createElementVNode("view",{class:"slider-wrapper"},[e.createElementVNode("slider",{value:o.fontSizeIndex,onChanging:n[2]||(n[2]=(...e)=>o.onSliderChange&&o.onSliderChange(...e)),min:"0",max:"2",step:"1",activeColor:"#3489F6",backgroundColor:"#e0e0e0","block-size":"20"},null,40,["value"])]),e.createElementVNode("text",{class:e.normalizeClass(["label",{active:"large"===i.fontSize}]),onClick:n[3]||(n[3]=e=>o.onFontChange("large"))},"大 (老人模式)",2)])]),e.createElementVNode("view",{class:"setting-group"},[e.createElementVNode("view",{class:"setting-item"},[e.createElementVNode("view",{class:"left"},[e.createElementVNode("text",{class:"title"},"清除缓存")]),e.createElementVNode("view",{class:"right"},[e.createElementVNode("text",{class:"cache-size"},e.toDisplayString(i.cacheSize)+" MB",1),e.createElementVNode("text",{class:"arrow"},">")])]),e.createElementVNode("view",{class:"setting-item"},[e.createElementVNode("view",{class:"left"},[e.createElementVNode("text",{class:"title"},"意见反馈")]),e.createElementVNode("view",{class:"right"},[e.createElementVNode("text",{class:"arrow"},">")])])]),e.createElementVNode("view",{class:"brand-footer"},"—— 由 金建楠 App 提供 ——")],2)}]]);__definePage("pages/index/index",i),__definePage("pages/newsDetail/newsDetail",o),__definePage("pages/mine/mine",l),__definePage("pages/collections/collections",c),__definePage("pages/history/history",r),__definePage("pages/settings/settings",d);const m={onLaunch:function(){t("log","at App.vue:4","App Launch")},onShow:function(){t("log","at App.vue:7","App Show")},onHide:function(){t("log","at App.vue:10","App Hide")}};const{app:g,Vuex:u,Pinia:p}={app:e.createVueApp(m)};uni.Vuex=u,uni.Pinia=p,g.provide("__globalStyles",__uniConfig.styles),g._component.mpType="app",g._component.render=()=>{},g.mount("#app")}(Vue);
